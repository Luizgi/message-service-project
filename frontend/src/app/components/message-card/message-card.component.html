<div class="message-card" [class.editing]="isEditing">
    <div class="message-header">
      <div class="user-info">
        <div class="avatar" [style.backgroundImage]="'url(' + message.userAvatar + ')'"></div>
        <div class="user-details">
          <h3 class="username">{{ message.userName }}</h3>
          <span class="timestamp">{{ message.timestamp | date:'medium' }}</span>
        </div>
      </div>
      <div class="message-actions" *ngIf="canEdit">
        <button class="action-btn edit" (click)="toggleEdit()" *ngIf="!isEditing">
          <span class="icon">✏️</span>
        </button>
        <button class="action-btn delete" (click)="onDelete()">
          <span class="icon">🗑️</span>
        </button>
      </div>
    </div>
  
    <div class="message-content" *ngIf="!isEditing">
      <p>{{ message.content }}</p>
    </div>
  
    <div class="edit-form" *ngIf="isEditing">
      <textarea 
        [(ngModel)]="editContent" 
        placeholder="Edit your message..."
        rows="3"
      ></textarea>
      <div class="edit-actions">
        <button class="btn cancel" (click)="cancelEdit()">Cancel</button>
        <button class="btn save" (click)="saveEdit()">Save</button>
      </div>
    </div>
  </div>
  